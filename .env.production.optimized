# KuroPanel V2 - Production Environment Configuration
# ULTRA OPTIMIZED FOR FAST BUILDS AND HIGH PERFORMANCE

# ==============================================================================
# APPLICATION SETTINGS
# ==============================================================================
CI_ENVIRONMENT=production
APP_NAME="KuroPanel V2"
APP_VERSION="2.0.0"
APP_URL=https://kuropanel.local
APP_TIMEZONE=UTC

# Security Keys (CHANGE IN PRODUCTION!)
APP_KEY=your-32-character-secret-key-here-change-this
JWT_SECRET=your-jwt-secret-key-here-must-be-changed-in-production

# ==============================================================================
# DATABASE CONFIGURATION - MYSQL 8.0 OPTIMIZED
# ==============================================================================
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=kuropanel
DB_USER=kurouser
DB_PASSWORD=secure_password_123

# MySQL Root Password
MYSQL_ROOT_PASSWORD=root_secure_123

# Database Connection Pool (for performance)
DB_POOL_SIZE=20
DB_TIMEOUT=30

# ==============================================================================
# REDIS CACHE CONFIGURATION
# ==============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0

# Cache Configuration
CACHE_DRIVER=redis
CACHE_TTL=3600
SESSION_DRIVER=redis
SESSION_SAVE_PATH=redis:6379

# ==============================================================================
# MAIL CONFIGURATION
# ==============================================================================
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_FROM_ADDRESS=noreply@kuropanel.local
MAIL_FROM_NAME="KuroPanel V2"
MAIL_ENCRYPTION=tls

# ==============================================================================
# SSL/TLS CONFIGURATION
# ==============================================================================
FORCE_HTTPS=true
SSL_CERT_PATH=/var/www/html/ssl/fullchain.pem
SSL_KEY_PATH=/var/www/html/ssl/privkey.pem

# ==============================================================================
# PERFORMANCE OPTIMIZATION
# ==============================================================================
# PHP OPcache Settings
PHP_OPCACHE_ENABLE=1
PHP_OPCACHE_MEMORY_CONSUMPTION=128
PHP_OPCACHE_MAX_ACCELERATED_FILES=10000
PHP_OPCACHE_REVALIDATE_FREQ=2

# File Upload Limits
MAX_UPLOAD_SIZE=64M
MAX_POST_SIZE=64M
MAX_EXECUTION_TIME=300
MEMORY_LIMIT=256M

# ==============================================================================
# DOCKER NETWORKING
# ==============================================================================
HTTP_PORT=80
HTTPS_PORT=443
APP_DOMAIN=kuropanel.local

# Docker Network Subnet
DOCKER_SUBNET=172.20.0.0/16

# ==============================================================================
# MONITORING & LOGGING
# ==============================================================================
LOG_LEVEL=info
LOG_PATH=/var/www/html/writable/logs
ERROR_REPORTING=E_ALL & ~E_NOTICE & ~E_DEPRECATED & ~E_STRICT

# Monitoring Credentials
GRAFANA_PASSWORD=admin123
PROMETHEUS_RETENTION=15d

# ==============================================================================
# BACKUP CONFIGURATION
# ==============================================================================
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/var/www/html/backups

# ==============================================================================
# SECURITY SETTINGS
# ==============================================================================
# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# CORS Settings
CORS_ALLOWED_ORIGINS=https://kuropanel.local
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000

# ==============================================================================
# API CONFIGURATION
# ==============================================================================
API_VERSION=v2
API_RATE_LIMIT=1000
API_RATE_WINDOW=3600

# JWT Configuration
JWT_ALGORITHM=HS256
JWT_EXPIRY=3600
JWT_REFRESH_EXPIRY=604800

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
ENABLE_REGISTRATION=true
ENABLE_PASSWORD_RESET=true
ENABLE_2FA=true
ENABLE_API_DOCS=true
ENABLE_DEBUG_TOOLBAR=false

# ==============================================================================
# THIRD PARTY INTEGRATIONS
# ==============================================================================
# Payment Gateway
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Analytics
GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-1

# ==============================================================================
# DEVELOPMENT/DEBUG SETTINGS (PRODUCTION: DISABLED)
# ==============================================================================
APP_DEBUG=false
CI_DEBUG=0
TOOLBAR_ENABLED=false
KINT_ENABLED=false

# ==============================================================================
# DOCKER BUILD OPTIMIZATION
# ==============================================================================
# Build performance settings
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1
BUILDKIT_PROGRESS=plain

# Multi-stage build cache
DOCKER_CACHE_FROM=php:8.2-alpine,php:8.2-apache
DOCKER_CACHE_TO=type=local,dest=.docker-cache
